# Построить dotchart (горизонтальную "точечную" диаграмму), чтобы сравнить 5 городов
# по индексу качества воздуха (AQI). Это удобнее, чем вертикальные столбики,
# когда хотим акцент на сравнение значений и подписей.


# МАЛЕНЬКИЙ ДАТАСЕТ (5 СТРОК)
City <- c("Город A", "Город B", "Город C", "Город D", "Город E")
AQI  <- c(42, 60, 35, 50, 55)   # чем меньше AQI, тем лучше воздух (условно)

df_aqi <- data.frame(City, AQI)
df_aqi
str(df_aqi)

# УДОБНО ОТСОРТИРОВАТЬ ПО ЗНАЧЕНИЮ, ЧТОБЫ ТОЧКИ ШЛИ В ПОРЯДКЕ
df_aqi_sorted <- df_aqi[order(df_aqi$AQI), ]  # возрастание AQI
df_aqi_sorted

# СТРОИМ DOTCHART
# dotchart() автоматически делает горизонтальные линии с точками и подписями
dotchart(
  x = df_aqi_sorted$AQI,
  labels = df_aqi_sorted$City,
  main = "AQI по городам (ниже — лучше)",
  xlab = "Индекс AQI",
  pch  = 19,               # заполненная точка
  col  = "darkblue"
)

# (НЕОБЯЗАТЕЛЬНО) ДОБАВИМ ВЕРТИКАЛЬНУЮ ЛИНИЮ "СРЕДНЕЕ ЗНАЧЕНИЕ"
avg_aqi <- mean(df_aqi$AQI)
abline(v = avg_aqi, lty = 2, col = "red")
text(x = avg_aqi, y = 1, labels = paste0("Среднее ≈ ", round(avg_aqi,1)),
     pos = 4, col = "red", cex = 0.9)

# Горизонтальный формат удобен для длинных подписей (названия городов),
# а сортировка делает сравнение визуально проще (значения "слева-направо" растут).
